# Словари для перевода на азбуку Морзе
morse_code_cyrillic = {
    "А": ".-",
    "Б": "-...",
    "В": ".--",
    "Г": "--.",
    "Д": "-..",
    "Е": ".",
    "Ж": "...-",
    "З": "--..",
    "И": "..",
    "Й": ".---",
    "К": "-.-",
    "Л": ".-..",
    "М": "--",
    "Н": "-.",
    "О": "---",
    "П": ".--.",
    "Р": ".-.",
    "С": "...",
    "Т": "-",
    "У": "..-",
    "Ф": "..-.",
    "Х": "----",
    "Ц": "-.-.",
    "Ч": "---.",
    "Ш": "----.",
    "Щ": "--.--",
    "Ъ": ".--.-.",
    "Ы": "-.--",
    "Ь": "-..-",
    "Э": "..-..",
    "Ю": "..--",
    "Я": ".-.-",
    " ": "/",  # пробел
    "0": "-----",
    "1": ".----",
    "2": "..---",
    "3": "...--",
    "4": "....-",
    "5": ".....",
    "6": "-....",
    "7": "--...",
    "8": "---..",
    "9": "----.",
    ".": ".-.-.-",
    ",": "--..--",
    "?": "..--..",
    "/": "-..-.",
    "-": "-....-",
    "(": "-.--.",
    ")": "-.--.-",
}

morse_code_latin = {
    "A": ".-",
    "B": "-...",
    "C": "-.-.",
    "D": "-..",
    "E": ".",
    "F": "..-.",
    "G": "--.",
    "H": "....",
    "I": "..",
    "J": ".---",
    "K": "-.-",
    "L": ".-..",
    "M": "--",
    "N": "-.",
    "O": "---",
    "P": ".--.",
    "Q": "--.-",
    "R": ".-.",
    "S": "...",
    "T": "-",
    "U": "..-",
    "V": "...-",
    "W": ".--",
    "X": "-..-",
    "Y": "-.--",
    "Z": "--..",
    " ": "/",  # пробел
    "0": "-----",
    "1": ".----",
    "2": "..---",
    "3": "...--",
    "4": "....-",
    "5": ".....",
    "6": "-....",
    "7": "--...",
    "8": "---..",
    "9": "----.",
    ".": ".-.-.-",
    ",": "--..--",
    "?": "..--..",
    "/": "-..-.",
    "-": "-....-",
    "(": "-.--.",
    ")": "-.--.-",
}


def encode_to_morse(text, lang):
    """
    Переводит текст на азбуку Морзе.

    Args:
        text (str): Исходный текст для перевода.
        lang (str): Язык текста ('ru' для русского, 'en' для английского).

    Returns:
        str: Текст, переведенный на азбуку Морзе, или None, если язык не поддерживается.
    """

    if lang == "ru":
        # Используем генератор списка для перевода каждого символа и объединяем в строку с пробелами
        return " ".join(
            [
                morse_code_cyrillic[i.upper()]
                for i in text
                if i.isalpha() and i.upper() in morse_code_cyrillic
            ]
        )
    elif lang == "en":
        # Аналогично для английского языка
        return " ".join(
            [
                morse_code_latin[i.upper()]
                for i in text
                if i.isalpha() and i.upper() in morse_code_latin
            ]
        )
    else:
        print(
            "Ошибка: Неподдерживаемый язык. Пожалуйста, выберите 'ru' или 'en'."
        )  # Добавлено сообщение об ошибке
        return None  # Возвращаем None в случае ошибки


def decode_from_morse(code, lang):
    """
    Переводит текст из азбуки Морзе.

    Args:
        code (str): Текст в азбуке Морзе для перевода.
        lang (str): Язык текста ('ru' для русского, 'en' для английского).

    Returns:
        str: Исходный текст, переведенный из азбуки Морзе, или None, если язык не поддерживается.
    """

    # Инвертируем словарь, чтобы искать по коду Морзе, а не по символу
    if lang == "ru":
        morse_to_char = {v: k for k, v in morse_code_cyrillic.items()}
    elif lang == "en":
        morse_to_char = {v: k for k, v in morse_code_latin.items()}
    else:
        print(
            "Ошибка: Неподдерживаемый язык. Пожалуйста, выберите 'ru' или 'en'."
        )  # Добавлено сообщение об ошибке
        return None  # Возвращаем None в случае ошибки

    # Разделяем код Морзе на отдельные символы
    morse_chars = code.split()

    # Переводим каждый символ и объединяем в строку
    translated_text = []
    for char in morse_chars:
        if char in morse_to_char:
            translated_text.append(morse_to_char[char])
        else:
            translated_text.append("?")  # Если символ не найден
    return "".join(translated_text)


def main():
    """
    Основная функция программы, реализующая интерактивное взаимодействие с пользователем.
    """

    while True:
        # Выводим вопросы пользователю
        questions_to_user = [
            "Что хотите сделать?",
            "1 - Перевод в азбуку Морзе",
            "2 - Перевод из азбуки Морзе",
            "3 - Выход",
            "4 - Передать привет Кате",
        ]
        print(*questions_to_user, sep="\n")
        print()

        # Получаем команду от пользователя
        user_command = input(
            "Введите номер команды: "
        )  # Добавлено приглашение ко вводу

        if user_command == "1":
            # Перевод в азбуку Морзе
            language = input(
                "С какого языка вы хотите перевести на азбуку Морзе? (ru/en): "
            )  # Добавлено приглашение ко вводу
            if language in ("ru", "en"):
                text = input(
                    "Хорошо, введите свой текст, а я выдам вам его версию на азбуке Морзе:\n"
                )  # Добавлено приглашение ко вводу
                morse_text = encode_to_morse(text, language)
                if morse_text:
                    print(morse_text)
                    print("Вот держите, перевод на азбуку Морзе!")
            else:
                print(
                    "Ошибка: Неподдерживаемый язык. Пожалуйста, выберите 'ru' или 'en'."
                )

        elif user_command == "2":
            # Перевод из азбуки Морзе
            language = input(
                "На какой язык вы хотите перевести из азбуки Морзе? (ru/en): "
            )  # Добавлено приглашение ко вводу
            if language in ("ru", "en"):
                text = input(
                    'Хорошо, теперь вы можете ввести свой "Морзе текст" и я переведу его вам на Русский язык:\n'
                )  # Добавлено приглашение ко вводу
                translated_text = decode_from_morse(text, language)
                if translated_text:
                    print(translated_text)
                    print("Вот ваш перевод)")
            else:
                print(
                    "Ошибка: Неподдерживаемый язык. Пожалуйста, выберите 'ru' или 'en'."
                )

        elif user_command == "3":
            # Завершение работы программы
            print("Приятно было поработать с вами! Пока)")
            break

        else:
            print(
                "Ошибка: Неизвестная команда. Пожалуйста, выберите 1, 2 или 3."
            )  # Обработка неизвестной команды


main()
